(function(t){function e(e){for(var i,r,o=e[0],u=e[1],d=e[2],l=0,p=[];l<o.length;l++)r=o[l],Object.prototype.hasOwnProperty.call(a,r)&&a[r]&&p.push(a[r][0]),a[r]=0;for(i in u)Object.prototype.hasOwnProperty.call(u,i)&&(t[i]=u[i]);c&&c(e);while(p.length)p.shift()();return s.push.apply(s,d||[]),n()}function n(){for(var t,e=0;e<s.length;e++){for(var n=s[e],i=!0,o=1;o<n.length;o++){var u=n[o];0!==a[u]&&(i=!1)}i&&(s.splice(e--,1),t=r(r.s=n[0]))}return t}var i={},a={app:0},s=[];function r(e){if(i[e])return i[e].exports;var n=i[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=t,r.c=i,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)r.d(n,i,function(e){return t[e]}.bind(null,i));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],u=o.push.bind(o);o.push=e,o=o.slice();for(var d=0;d<o.length;d++)e(o[d]);var c=u;s.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"0116":function(t,e,n){},"182e":function(t,e,n){},"21f4":function(t,e,n){"use strict";var i=n("0116"),a=n.n(i);a.a},"53bb":function(t,e,n){},"56d7":function(t,e,n){"use strict";n.r(e);n("cadf"),n("551c"),n("f751"),n("097d");var i=n("2b0e"),a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("StudentList")],1)},s=[],r={name:"app"},o=r,u=(n("5c0b"),n("2877")),d=Object(u["a"])(o,a,s,!1,null,null,null),c=d.exports,l=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"student-list-wrap"},[n("div",{staticClass:"page-head-wrap"},[n("div",{staticClass:"page-head"},[n("div",{staticClass:"page-title"},[t._v("Student List")]),n("div",{staticClass:"page-actions"},[n("div",{staticClass:"student-qty"},[t._v("\n          Show\n          "),n("span",{class:10===t.pageSize?"active":"",on:{click:t.tenItems}},[t._v("10")]),n("span",{class:20===t.pageSize?"active":"",on:{click:t.twentyItems}},[t._v("20")])]),n("button",{on:{click:function(e){return t.openDialog(!0)}}},[n("ion-icon",{attrs:{name:"add"}}),t._v("Add Student\n        ")],1)])])]),n("div",{staticClass:"student-zone"},[n("div",{staticClass:"student-board",class:"activeStudent"===t.boardOpen?"active":"",on:{click:function(e){t.boardOpen="activeStudent"}}},[n("div",{staticClass:"zone-head"},[t._m(0),n("div",{staticClass:"zone-head-right"},[t._v("\n          "+t._s(t.currentActivePage*t.pageSize+1)+" - "+t._s(t.lastActiveIndex)+" of "+t._s(t._activeStudent.length)+"\n          "),n("div",{staticClass:"arrows"},[n("ion-icon",{attrs:{name:"arrow-dropleft"},on:{click:function(e){t.currentActivePage>0&&t.prev("currentActivePage")}}}),n("ion-icon",{attrs:{name:"arrow-dropright"},on:{click:function(e){t.currentActivePage<t.maxActivePage&&t.next("currentActivePage")}}})],1)])]),n("div",{staticClass:"zone-body"},[n("draggable",{staticClass:"dragArea list-group",attrs:{list:t.activeStudent,clone:t.clone,group:{name:"people",pull:t.pullFunction}},on:{start:t.start,add:function(e){return t.onAdd(e,"Active")}}},t._l(t.activeStudent,function(e){return n("StudentCard",{key:e.id,attrs:{id:e.id,firstName:e.firstName,lastName:e.lastName,studentId:e.studentId,phone:e.phoneNumber,status:e.status,initial:e.firstName.charAt(0)},on:{editInfo:function(n){return t.editStudent(e)}}})}),1)],1)]),n("div",{staticClass:"student-board",class:"delinquentStudent"===t.boardOpen?"active":"",on:{click:function(e){t.boardOpen="delinquentStudent"}}},[n("div",{staticClass:"zone-head"},[t._m(1),n("div",{staticClass:"zone-head-right"},[t._v("\n          "+t._s(t.currentDelinquentPage*t.pageSize+1)+" - "+t._s(t.lastDelinquentIndex)+" of "+t._s(t._delinquentStudent.length)+"\n          "),n("div",{staticClass:"arrows"},[n("ion-icon",{attrs:{name:"arrow-dropleft"},on:{click:function(e){t.currentDelinquentPage>0&&t.prev("currentDelinquentPage")}}}),n("ion-icon",{attrs:{name:"arrow-dropright"},on:{click:function(e){t.currentDelinquentPage<t.maxDelinquentPage&&t.next("currentDelinquentPage")}}})],1)])]),n("div",{staticClass:"zone-body"},[n("draggable",{staticClass:"dragArea list-group",attrs:{list:t.delinquentStudent,clone:t.clone,group:{name:"people",pull:t.pullFunction}},on:{start:t.start,add:function(e){return t.onAdd(e,"Delinquent")}}},t._l(t.delinquentStudent,function(e){return n("StudentCard",{key:e.id,attrs:{id:e.id,firstName:e.firstName,lastName:e.lastName,studentId:e.studentId,phone:e.phoneNumber,status:e.status,initial:e.firstName.charAt(0)},on:{editInfo:function(n){return t.editStudent(e)}}})}),1)],1)]),n("div",{staticClass:"student-board",class:"droppedStudent"===t.boardOpen?"active":"",on:{click:function(e){t.boardOpen="droppedStudent"}}},[n("div",{staticClass:"zone-head"},[t._m(2),n("div",{staticClass:"zone-head-right"},[t._v("\n          "+t._s(t.currentDroppedPage*t.pageSize+1)+" - "+t._s(t.lastDroppedIndex)+" of "+t._s(t._droppedStudent.length)+"\n          "),n("div",{staticClass:"arrows"},[n("ion-icon",{attrs:{name:"arrow-dropleft"},on:{click:function(e){t.currentDroppedPage>0&&t.prev("currentDroppedPage")}}}),n("ion-icon",{attrs:{name:"arrow-dropright"},on:{click:function(e){t.currentDroppedPage<t.maxDroppedPage&&t.next("currentDroppedPage")}}})],1)])]),n("div",{staticClass:"zone-body"},[n("draggable",{staticClass:"dragArea list-group",attrs:{list:t.droppedStudent,clone:t.clone,group:{name:"people",pull:t.pullFunction}},on:{add:function(e){return t.onAdd(e,"Dropped")},start:t.start}},t._l(t.droppedStudent,function(e){return n("StudentCard",{key:e.id,attrs:{id:e.id,firstName:e.firstName,lastName:e.lastName,studentId:e.studentId,phone:e.phoneNumber,status:e.status,initial:e.firstName.charAt(0)},on:{editInfo:function(n){return t.editStudent(e)}}})}),1)],1)])]),t.showModal?n("Dialog",t._b({on:{closeModal:function(e){t.showModal=!1},confirmModal:t.updateStudent}},"Dialog",t.dialogScheme,!1),[n("div",{attrs:{slot:"body"},slot:"body"},[n("div",{staticClass:"dialog-wrap"},[n("div",{staticClass:"dialog-title"},[t._v("Student Information")]),n("div",{staticClass:"form-row"},[n("div",{staticClass:"form-section"},[n("label",{attrs:{for:"first_name"}},[t._v("First Name")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.tempStudent.firstName,expression:"tempStudent.firstName"}],attrs:{type:"text",id:"first_name"},domProps:{value:t.tempStudent.firstName},on:{input:function(e){e.target.composing||t.$set(t.tempStudent,"firstName",e.target.value)}}})]),n("div",{staticClass:"form-section"},[n("label",{attrs:{for:"last_name"}},[t._v("Last Name")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.tempStudent.lastName,expression:"tempStudent.lastName"}],attrs:{type:"text",id:"last_name"},domProps:{value:t.tempStudent.lastName},on:{input:function(e){e.target.composing||t.$set(t.tempStudent,"lastName",e.target.value)}}})])]),n("div",{staticClass:"form-section"},[n("label",{attrs:{for:"student_id"}},[t._v("Student ID")]),n("input",{directives:[{name:"model",rawName:"v-model.number",value:t.tempStudent.studentId,expression:"tempStudent.studentId",modifiers:{number:!0}}],attrs:{type:"text",id:"student_id",placeholder:"100001"},domProps:{value:t.tempStudent.studentId},on:{input:function(e){e.target.composing||t.$set(t.tempStudent,"studentId",t._n(e.target.value))},blur:function(e){return t.$forceUpdate()}}})]),n("div",{staticClass:"form-section"},[n("label",{attrs:{for:"phone_number"}},[t._v("Phone Number")]),n("input",{directives:[{name:"model",rawName:"v-model.number",value:t.tempStudent.phoneNumber,expression:"tempStudent.phoneNumber",modifiers:{number:!0}}],attrs:{type:"text",id:"phone_number",placeholder:"403123456"},domProps:{value:t.tempStudent.phoneNumber},on:{input:function(e){e.target.composing||t.$set(t.tempStudent,"phoneNumber",t._n(e.target.value))},blur:function(e){return t.$forceUpdate()}}})]),n("label",{attrs:{for:"status"}},[t._v("Status")]),n("select",{directives:[{name:"model",rawName:"v-model",value:t.tempStudent.status,expression:"tempStudent.status"}],attrs:{id:"status"},on:{change:function(e){var n=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){var e="_value"in t?t._value:t.value;return e});t.$set(t.tempStudent,"status",e.target.multiple?n:n[0])}}},[n("option",{attrs:{value:"null",disabled:""}},[t._v("Please select status")]),n("option",{attrs:{value:"Active"}},[t._v("Active")]),n("option",{attrs:{value:"Delinquent"}},[t._v("Delinquent")]),n("option",{attrs:{value:"Dropped"}},[t._v("Dropped")])])])])]):t._e()],1)},p=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"zone-head-left"},[n("span",[t._v("Active")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"zone-head-left"},[n("span",[t._v("Delinquent")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"zone-head-left"},[n("span",[t._v("Dropped")])])}],f=(n("7514"),n("7f7f"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"student-card",class:t.cardStyle},[n("div",{staticClass:"drag-icon col"}),n("div",{staticClass:"student-avatar"},[n("span",{class:t.initialStyle},[t._v(t._s(t.initial))])]),n("div",{staticClass:"student-name col"},[t._v(t._s(t.firstName)+" "+t._s(t.lastName))]),n("div",{staticClass:"student-id col"},[t._v(t._s(t.studentId))]),n("div",{staticClass:"student-phone col"},[t._v(t._s(t.phone))]),n("div",{staticClass:"actions col"},[n("div",{staticClass:"edit-student",on:{click:function(e){return t.$emit("editInfo")}}},[n("ion-icon",{attrs:{name:"create"}})],1)])])}),m=[],v=(n("4917"),n("c5f6"),{props:{firstName:{type:String,default:""},lastName:{type:String,default:""},studentId:{type:Number,default:void 0},phone:{type:Number,default:void 0},status:{type:String,default:"active"},initial:{type:String,default:""}},computed:{cardStyle:function(){switch(this.status){case"Active":return"active";case"Delinquent":return"delinquent";case"Dropped":return"dropped"}},initialStyle:function(){var t=/[A-F]/gi,e=/[G-L]/gi,n=/[M-R]/gi,i=/[S-Z]/gi,a=this.initial;return a.match(t)?"initialStyle-1":a.match(e)?"initialStyle-2":a.match(n)?"initialStyle-3":a.match(i)?"initialStyle-4":void 0}}}),h=v,g=(n("21f4"),Object(u["a"])(h,f,m,!1,null,"4ec7454e",null)),S=g.exports,_=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("transition",t._b({attrs:{name:"modal"}},"transition",t.$props,!1),[n("div",{staticClass:"modal-mask"},[n("div",{staticClass:"modal-wrapper"},[n("div",{staticClass:"modal-container",style:{"max-width":t.maxWidth+"px","min-width":t.minWidth+"px",width:t.width+"px"}},[n("div",{staticClass:"modal-header"},[t.closeSign?n("ion-icon",{attrs:{name:"close"},on:{click:function(e){return t.$emit("closeModal")}}}):t._e()],1),n("div",{staticClass:"modal-contentAll"},[n("div",{staticClass:"modal-body"},[t._t("body")],2),n("div",{staticClass:"modal-footer"},[t._t("footer",[t.cancelText?n("button",{staticClass:"cancel-text",on:{click:function(e){return t.$emit("closeModal")}}},[t._v(t._s(t.cancelText))]):t._e(),t.confirmText?n("button",{staticClass:"confirm-text",on:{click:function(e){return t.$emit("confirmModal")}}},[t._v(t._s(t.confirmText))]):t._e()])],2)])])])])])},b=[],y={name:"Dialog",props:{maxWidth:{type:Number,default:500},minWidth:{type:Number,default:300},width:{type:Number,default:void 0},closeSign:{type:Boolean,default:!0},cancelText:{type:String,default:"cancel"},confirmText:{type:String,default:"confirm"}},data:function(){return{showModal:!1}}},D=y,C=(n("5a7e"),Object(u["a"])(D,_,b,!1,null,"c1def7d8",null)),P=C.exports,x=n("0ff2"),w=n("59ca"),N=n.n(w);n("e71f");i["a"].use(x["a"]),N.a.initializeApp({projectId:"student-list-e0e63",databaseURL:"https://student-list-e0e63.firebaseio.com"});var A=N.a.firestore(),q=A,z=n("310e"),I=n.n(z),O={components:{StudentCard:S,Dialog:P,draggable:I.a},data:function(){return{showModal:!1,dialogScheme:{maxWidth:700},tempStudent:{},students:[],isNew:!1,studentDataID:"",controlOnStart:!0,pageSize:10,currentActivePage:0,currentDelinquentPage:0,currentDroppedPage:0,boardOpen:"activeStudent"}},computed:{_activeStudent:function(){return this.students.filter(function(t){return"Active"==t.status})},activeStudent:function(){var t=this.currentActivePage*this.pageSize;return this._activeStudent.slice(t,t+this.pageSize)},maxActivePage:function(){return Math.floor(this._activeStudent.length/this.pageSize)},lastActiveIndex:function(){return this.currentActivePage>=this.maxActivePage?this._activeStudent.length:(this.currentActivePage+1)*this.pageSize},_delinquentStudent:function(){return this.students.filter(function(t){return"Delinquent"==t.status})},delinquentStudent:function(){var t=this.currentDelinquentPage*this.pageSize;return this._delinquentStudent.slice(t,t+this.pageSize)},maxDelinquentPage:function(){return Math.floor(this._delinquentStudent.length/this.pageSize)},lastDelinquentIndex:function(){return this.currentDelinquentPage>=this.maxDelinquentPage?this._delinquentStudent.length:(this.currentDelinquentPage+1)*this.pageSize},_droppedStudent:function(){return this.students.filter(function(t){return"Dropped"==t.status})},droppedStudent:function(){var t=this.currentDroppedPage*this.pageSize;return this._droppedStudent.slice(t,t+this.pageSize)},maxDroppedPage:function(){return Math.floor(this._droppedStudent.length/this.pageSize)},lastDroppedIndex:function(){return this.currentDroppedPage>=this.maxDroppedPage?this._droppedStudent.length:(this.currentDroppedPage+1)*this.pageSize}},methods:{openDialog:function(t,e){t?(this.tempStudent={},this.isNew=!0):(this.tempStudent=Object.assign({},e),this.isNew=!1,this.studentDataID=e.id),this.showModal=!0},updateStudent:function(){var t=this;if(this.showModal=!1,this.isNew)q.collection("students").add(this.tempStudent).then(function(){t.tempStudent={}}).catch(function(){});else{var e=q.collection("students").doc(this.studentDataID),n=e.id;q.collection("students").doc(n).update(this.tempStudent).then(function(){t.tempStudent={}}).catch(function(){})}},newUpdateStudnent:function(t,e){q.collection("students").doc(t).update(e).catch(function(){})},editStudent:function(t){this.openDialog(!1,t)},prev:function(t){console.log(t),this[t]-=1},next:function(t){console.log(t),this[t]+=1},clone:function(t){var e=t.name,n=8;return{name:e,id:n++}},pullFunction:function(){return!this.controlOnStart||"clone"},start:function(t){var e=t.originalEvent;this.controlOnStart=e.ctrlKey},onAdd:function(t,e){var n=this.students.find(function(e){return e.id===t.item.id});if(n){var i=Object.assign({},n,{status:e});this.newUpdateStudnent(n.id,i)}},twentyItems:function(){this.pageSize=20,this.currentActivePage=0,this.currentDelinquentPage=0,this.currentDroppedPage=0},tenItems:function(){this.pageSize=10,this.currentActivePage=0,this.currentDelinquentPage=0,this.currentDroppedPage=0}},firestore:function(){return{students:q.collection("students")}}},k=O,$=(n("db53"),Object(u["a"])(k,l,p,!1,null,"7965046a",null)),M=$.exports;i["a"].config.productionTip=!1,i["a"].component("StudentList",M),i["a"].config.ignoredElements=[/^ion-/],new i["a"]({render:function(t){return t(c)}}).$mount("#app")},"5a7e":function(t,e,n){"use strict";var i=n("182e"),a=n.n(i);a.a},"5c0b":function(t,e,n){"use strict";var i=n("e332"),a=n.n(i);a.a},db53:function(t,e,n){"use strict";var i=n("53bb"),a=n.n(i);a.a},e332:function(t,e,n){}});
//# sourceMappingURL=app.027c6db7.js.map